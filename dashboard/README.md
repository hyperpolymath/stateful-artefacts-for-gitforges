# Gnosis Living Dashboard

A real-time web dashboard that pulls project metrics from Git forges (GitHub, GitLab, Bitbucket) and auto-generates `STATE.scm` files.

## Features

- **Real-time Metrics**: Fetch live data from GitHub, GitLab, or Bitbucket APIs
- **Health Score**: Automatic calculation based on activity, issues, documentation, and license
- **Auto-generate STATE.scm**: Creates properly formatted 6scm metadata files
- **Multi-forge Support**: Works with GitHub, GitLab, and Bitbucket
- **No Backend Required**: Pure client-side JavaScript dashboard
- **Copy & Download**: One-click copy to clipboard or download STATE.scm

## Quick Start

### Local Usage

1. Open `index.html` in your browser
2. Enter repository details:
   - **Forge**: GitHub, GitLab, or Bitbucket
   - **Owner**: Organization or username
   - **Repository**: Repository name
   - **Token** (optional): For private repos or higher rate limits
3. Click **Fetch Data**
4. View metrics and download generated STATE.scm

### Hosted Version

Deploy to any static hosting:

```bash
# Copy dashboard to web server
cp -r dashboard /var/www/html/gnosis-dashboard

# Or use Python's built-in server for local testing
cd dashboard
python3 -m http.server 8000
# Visit http://localhost:8000
```

## Metrics Collected

### Identity
- Repository name
- Description/tagline
- Primary language
- License

### Vital Signs
- ‚≠ê Stars count
- üç¥ Forks count
- üêõ Open issues
- üîÄ Open pull requests
- üìä Health score (0-100)

### Activity
- Last updated timestamp
- Created timestamp
- Default branch

### Ecosystem
- Forge type (GitHub/GitLab/Bitbucket)
- Repository URL
- Feature flags (has issues, has wiki)
- Topics/tags

## Health Score Calculation

The dashboard calculates a health score (0-100) based on:

| Factor | Impact | Criteria |
|--------|--------|----------|
| **Recent Activity** | -30 pts max | No updates in 90+ days |
| **Open Issues** | -20 pts max | 50+ open issues |
| **License** | -20 pts | No license specified |
| **Documentation** | -15 pts | No wiki or description |
| **Issue Tracking** | -15 pts | Issues disabled |

**Score Ranges:**
- 90-100: ‚úÖ Excellent health
- 70-89: ‚úÖ Good health
- 50-69: ‚ö†Ô∏è Needs attention
- <50: ‚ùå Critical issues

## Generated STATE.scm Format

The dashboard generates valid 6scm STATE files:

```scheme
; Auto-generated by Gnosis Living Dashboard

(state
  (metadata
    (schema-version . "1.0.0")
    (generated-at . "2026-01-24T...")
    (source . "https://github.com/..."))

  (identity
    (name . "project-name")
    (tagline . "Project description")
    (phase . "active")
    (license . "MIT"))

  (vital-signs
    (health-score . "95")
    (stars . "1234")
    (forks . "56")
    (open-issues . "7"))

  (activity
    (last-updated . "2026-01-24T...")
    (created-at . "2025-01-01T...")
    (default-branch . "main"))

  (ecosystem
    (forge . "github")
    (url . "https://github.com/...")
    (primary-language . "Haskell")))
```

## API Authentication

### GitHub

**Public repos:** No token needed (60 requests/hour)
**Private repos or higher limits:** Generate a Personal Access Token

1. Go to https://github.com/settings/tokens
2. Generate new token (classic)
3. Select scopes: `repo` (for private), `public_repo` (for public)
4. Copy token and paste in dashboard

**Rate limits:**
- Unauthenticated: 60 requests/hour
- Authenticated: 5,000 requests/hour

### GitLab

1. Go to https://gitlab.com/-/profile/personal_access_tokens
2. Create token with `read_api` scope
3. Copy and paste in dashboard

### Bitbucket

1. Go to Bitbucket settings > App passwords
2. Create app password with `repository:read` permission
3. Use as Bearer token in dashboard

## Project Phase Inference

The dashboard automatically infers project phase from metrics:

| Phase | Criteria |
|-------|----------|
| `alpha` | < 30 days old, < 10 stars |
| `beta` | < 90 days old, < 50 stars |
| `active` | Default for established projects |
| `stable` | 100+ stars |
| `production` | 1000+ stars |

## Technical Details

### Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  User Input  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ forge (github/gitlab/bitbucket)
       ‚îú‚îÄ owner (org/username)
       ‚îú‚îÄ repo (repository name)
       ‚îî‚îÄ token (optional)
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  dashboard.js    ‚îÇ ‚Üê Fetch from API
‚îÇ  fetchRepoData() ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ GitHub API v3 (REST)
       ‚îú‚îÄ GitLab API v4 (REST)
       ‚îî‚îÄ Bitbucket API 2.0 (REST)
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Metrics Processing ‚îÇ
‚îÇ  - calculateHealth()‚îÇ
‚îÇ  - inferPhase()     ‚îÇ
‚îÇ  - generateSCM()    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  UI Update          ‚îÇ
‚îÇ  - Display metrics  ‚îÇ
‚îÇ  - Show health score‚îÇ
‚îÇ  - Render STATE.scm ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Files

```
dashboard/
‚îú‚îÄ‚îÄ index.html          # Main HTML structure
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.css   # Styles and layout
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.js    # Core logic and API calls
‚îî‚îÄ‚îÄ README.md           # This file
```

### Browser Compatibility

- Chrome 90+
- Firefox 88+
- Edge 90+
- Safari 14+

Requires: `fetch` API, ES6+ JavaScript, CSS Grid

## Privacy & Security

‚úÖ **Client-side only** - No data sent to external servers
‚úÖ **Token storage** - Tokens used only for API requests, not stored
‚úÖ **CORS-friendly** - Works with public APIs
‚úÖ **Open source** - Audit the code yourself

‚ö†Ô∏è **Caution:**
- API tokens are transmitted to the forge's API (HTTPS)
- Don't enter tokens on untrusted deployments
- Use fine-grained tokens with minimal scopes

## Use Cases

### Automatic STATE.scm Generation

1. Fetch data from your project's forge
2. Download generated STATE.scm
3. Save to `.machine_readable/STATE.scm` in your repo
4. Commit and push - Gnosis will use live data

### Project Health Monitoring

- Quick visual check of project health
- Identify maintenance needs (stale issues, outdated docs)
- Track community engagement (stars, forks)

### Multi-repo Dashboard

- Check health of all your projects
- Compare metrics across repos
- Prioritize maintenance efforts

## Development

### Adding a New Forge

1. Add option to `#forge` select in `index.html`
2. Implement `fetch{ForgeName}Data()` in `dashboard.js`
3. Return standardized data object with required fields
4. Test with public and private repos

### Extending Metrics

Add new metrics by:
1. Fetching additional API endpoints
2. Adding metric cards to HTML
3. Updating `displayMetrics()` function
4. Including in `generateSCM()` output

## License

PMPL-1.0-or-later (same as parent project)

## Links

- [6scm Standard](https://github.com/hyperpolymath/stateful-artefacts-for-gitforges)
- [GitHub API Docs](https://docs.github.com/en/rest)
- [GitLab API Docs](https://docs.gitlab.com/ee/api/)
- [Bitbucket API Docs](https://developer.atlassian.com/cloud/bitbucket/rest/)
